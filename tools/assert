function assert_constructor {
	grab zsh/parameter messages
}

function assert_destructor {
	unset -f assert
}

function assert {
	[[ $# -ge 1 ]] || exit 255

	if ! eval "$1"; then
		shift
		error "Assertion failed at $functrace[1]"
		exit 255
	fi
}

# vim:ft=zsh
