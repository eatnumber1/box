function binary_constructor {
	grab assert messages
}

function binary_help {
	retval=( "Require some binary in the PATH" )
}

function binary {
	assert "[[ $# -ge 1 ]]"
	all_in_path path
	typeset -A binaries
	binaries=( ${(kv)retval_kv} )
	local i
	for i in "$@"; do
		if (( ! $+binaries[$i] )); then
			error "Binary $i not found in $path"
			return 1
		fi
		if [[ ! -x "$binaries[$i]" ]]; then
			error "Binary $binaries[$i] is not executable"
			return 1
		fi
	done
}

# vim:ft=zsh
